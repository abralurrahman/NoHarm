<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey Results</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body data-page="result">

<!-- Language switcher in the corner -->
<div class="language-switcher">
    <select id="language-switcher">
        <option value="ar">العربية</option>
        <option value="bn">বাংলা</option>
        <option value="zh">中文</option>
        <option value="en">English</option>
        <option value="fr">Français</option>
        <option value="de">Deutsch</option>
        <option value="hi">हिन्दी</option>
        <option value="ja">日本語</option>
        <option value="ru">Русский</option>
        <option value="es">Español</option>
        <option value="ur">اردو</option>
    </select>
</div>

<div class="result-container">

    <!-- Download button -->
    <div class="download-container">
        <a href="{{ url_for('download_csv') }}" class="download-button">
            <i class="fas fa-file-csv"></i> Download Survey Results (CSV)
        </a>
    </div>

    <!-- User Responses Data -->
    <h2>User Responses</h2>
    <table border="1" class="result-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Choice 1</th>
                <th>Choice 2</th>
                <th>Choice 3</th>
                <th>Reconsider Choice</th>
                <th>Save Life Years</th>
                <th>Advantage Disadvantaged</th>
                <th>Benefit Future</th>
                <th>First Come</th>
                <th>Treatment Success</th>
                <th>Treatment Effort</th>
                <th>Medication Effect</th>
                <th>Random Selection</th>
                <th>Gender</th>
                <th>Age</th>
                <th>Religion</th>
                <th>General Health</th>
                <th>Illness</th>
                <th>Children</th>
                <th>IP Address</th>
                <th>City</th>
                <th>Region</th>
                <th>Country</th>
            </tr>
        </thead>
        <tbody>
            {% for response in user_responses %}
            <tr>
                <td>{{ response['id'] }}</td>
                <td>{{ response['choice1'] }}</td>
                <td>{{ response['choice2'] }}</td>
                <td>{{ response['choice3'] }}</td>
                <td>{{ response['reconsider_choice'] }}</td>
                <td>{{ response['save_life_years'] }}</td>
                <td>{{ response['advantage_disadvantaged'] }}</td>
                <td>{{ response['benefit_future'] }}</td>
                <td>{{ response['first_come'] }}</td>
                <td>{{ response['treatment_success'] }}</td>
                <td>{{ response['treatment_effort'] }}</td>
                <td>{{ response['medication_effect'] }}</td>
                <td>{{ response['random_selection'] }}</td>
                <td>{{ response['gender'] }}</td>
                <td>{{ response['age'] }}</td>
                <td>{{ response['religion'] }}</td>
                <td>{{ response['general_health'] }}</td>
                <td>{{ response['illness'] }}</td>
                <td>{{ response['children'] }}</td>
                <td>{{ response['ip_address'] }}</td>
                <td>{{ response['city'] }}</td>
                <td>{{ response['region'] }}</td>
                <td>{{ response['country'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script src="{{ url_for('static', filename='js/language.js') }}"></script>
</body>
</html>
